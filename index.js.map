{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export { getPhotos };\n\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nfunction getPhotos(searchQuery) {\n  const API_KEY = \"46495648-ca89e041c4cf307aa03db9722\";\n\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40`,\n  )\n    .then((response) => response.json())\n    .then((data) => data.hits);\n}\n","export {\n  renderGalleryMarkup,\n  showEmptyQueryError,\n  showEmptyError,\n  showUnknownError,\n  showLoader,\n  hideLoader,\n  clearGallery,\n  showGallery,\n};\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nfunction renderGalleryMarkup(images) {\n  return images\n    .map((image) => {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = image;\n      return `\n            <li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                    <img class=\"gallery-image\" src=\"${webformatURL}\" data-source=\"${largeImageURL}\" alt=\"${tags}\" loading=\"lazy\" />\n                </a>\n                <div class=\"info\">\n                    <p class=\"info-item\">\n                        <b>Likes</b>\n                        ${likes}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Views</b>\n                        ${views}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Comments</b>\n                        ${comments}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Downloads</b>\n                        ${downloads}\n                    </p>\n                </div>\n            </li>\n            `;\n    })\n    .join(\"\");\n}\n\nfunction showEmptyQueryError() {\n  iziToast.error({\n    message: \"Please enter a search query!\",\n    position: \"topRight\",\n    timeout: 3000,\n  });\n}\n\nfunction showEmptyError() {\n  iziToast.error({\n    message:\n      \"Sorry, there are no images matching your search query. Please try again!\",\n    position: \"topRight\",\n    timeout: 3000,\n  });\n}\n\nfunction showUnknownError() {\n  iziToast.error({\n    message: \"Sorry, something went wrong. Please try again!\",\n    position: \"topRight\",\n    timeout: 3000,\n  });\n}\n\nfunction showLoader() {\n  document.querySelector(\".loader\").style.display = \"block\";\n}\n\nfunction hideLoader() {\n  document.querySelector(\".loader\").style.display = \"none\";\n}\n\nfunction clearGallery() {\n  document.querySelector(\".gallery\").innerHTML = \"\";\n}\n\nfunction showGallery(images) {\n  document.querySelector(\".gallery\").innerHTML = renderGalleryMarkup(images);\n  lightbox.refresh();\n}\n","import { getPhotos } from \"./js/pixabay-api\";\nimport * as render from \"./js/render-functions\";\n\nconst searchForm = document.querySelector(\".search-form\");\n\nsearchForm.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n\n  const searchQuery = document.querySelector(\"#search-box\").value;\n\n  if (searchQuery.trim() === \"\") {\n    render.showEmptyQueryError();\n    return;\n  }\n\n  render.showLoader();\n\n  getPhotos(searchQuery)\n    .then((images) => {\n      render.clearGallery();\n\n      if (images.length === 0) {\n        render.showEmptyError();\n        return;\n      }\n      render.showGallery(images);\n    })\n    .catch((error) => {\n      console.log(error);\n      render.showUnknownError();\n    })\n    .finally(() => {\n      render.hideLoader();\n    });\n});\n"],"names":["BASE_URL","getPhotos","searchQuery","response","data","lightbox","SimpleLightbox","renderGalleryMarkup","images","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showEmptyQueryError","iziToast","showEmptyError","showUnknownError","showLoader","hideLoader","clearGallery","showGallery","searchForm","event","render.showEmptyQueryError","render.showLoader","render.clearGallery","render.showEmptyError","render.showGallery","error","render.showUnknownError","render.hideLoader"],"mappings":"6vBAEA,MAAMA,EAAW,2BAEjB,SAASC,EAAUC,EAAa,CAG9B,OAAO,MACL,GAAGF,CAAQ,6CAAqBE,CAAW,sEAC5C,EACE,KAAMC,GAAaA,EAAS,KAAI,CAAE,EAClC,KAAMC,GAASA,EAAK,IAAI,CAC7B,CCIA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAoBC,EAAQ,CACnC,OAAOA,EACJ,IAAKC,GAAU,CACd,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,gDAEmCE,CAAa;AAAA,sDACPD,CAAY,kBAAkBC,CAAa,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0BAKrFC,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,aAKnC,CAAK,EACA,KAAK,EAAE,CACZ,CAEA,SAASC,GAAsB,CAC7BC,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,WACV,QAAS,GACb,CAAG,CACH,CAEA,SAASC,GAAiB,CACxBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,QAAS,GACb,CAAG,CACH,CAEA,SAASE,GAAmB,CAC1BF,EAAS,MAAM,CACb,QAAS,iDACT,SAAU,WACV,QAAS,GACb,CAAG,CACH,CAEA,SAASG,GAAa,CACpB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OACpD,CAEA,SAASC,GAAa,CACpB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACpD,CAEA,SAASC,GAAe,CACtB,SAAS,cAAc,UAAU,EAAE,UAAY,EACjD,CAEA,SAASC,EAAYhB,EAAQ,CAC3B,SAAS,cAAc,UAAU,EAAE,UAAYD,EAAoBC,CAAM,EACzEH,EAAS,QAAO,CAClB,CCnGA,MAAMoB,EAAa,SAAS,cAAc,cAAc,EAExDA,EAAW,iBAAiB,SAAWC,GAAU,CAC/CA,EAAM,eAAc,EAEpB,MAAMxB,EAAc,SAAS,cAAc,aAAa,EAAE,MAE1D,GAAIA,EAAY,KAAM,IAAK,GAAI,CAC7ByB,IACA,MACD,CAEDC,IAEA3B,EAAUC,CAAW,EAClB,KAAMM,GAAW,CAGhB,GAFAqB,IAEIrB,EAAO,SAAW,EAAG,CACvBsB,IACA,MACD,CACDC,EAAmBvB,CAAM,CAC/B,CAAK,EACA,MAAOwB,GAAU,CAChB,QAAQ,IAAIA,CAAK,EACjBC,GACN,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,CACL,CAAC"}